package solutions_chapter14_exercises;

import java.util.ArrayList;

import javafx.application.Application;
import javafx.scene.Scene;
import javafx.scene.layout.Pane;
import javafx.scene.shape.Line;
import javafx.scene.shape.Shape;
import javafx.stage.Stage;

public class Exercise14_20 extends Application{

	private static final double PANE_WIDTH  = 200;
	private static final double PANE_HEIGHT = 200;
	private static final double OFFSET = 40;
	@Override
	public void start(Stage primaryStage) {	
		Pane arrowContainer = new Pane();
		
		Exercise14_20.drawArrowLine(Math.random() * (PANE_WIDTH - 10), Math.random()*(PANE_HEIGHT - 15), Math.random() * (PANE_WIDTH - 10), Math.random() * (PANE_HEIGHT - 30), arrowContainer);
	
		Scene arrowScene = new Scene(arrowContainer, PANE_WIDTH, PANE_HEIGHT);
		primaryStage.setTitle("Exercise14_20");
		primaryStage.setScene(arrowScene);
		primaryStage.show();
	}

	public static void drawArrowLine(double startX, double startY, double endX, double endY, Pane pane) {
		
		Line arrow = new Line();
		ArrayList<Shape> arrowComponents = new ArrayList<>();
		double smallerX = startX < endX? startX : endX;
		double largerX  = startX < endX? endX : startX; 
	    double smallerY = startY > endY? endY : startY; 
		double largerY = startY > endY? startY : endY;
		
		arrow.setStartX(smallerX);
		arrow.setStartY(largerY);
		arrow.setEndX(largerX);
		arrow.setEndY(smallerY);
		arrowComponents.add(arrow);
		
			
		Line arrowLeftPart = new Line();
		arrowLeftPart.setStartX(arrow.getEndX());
		arrowLeftPart.setStartY(arrow.getEndY());
		arrowLeftPart.setEndX(arrowLeftPart.getStartX() - OFFSET/4);
		arrowLeftPart.setEndY(arrowLeftPart.getStartY() + 15);
		arrowComponents.add(arrowLeftPart); 
		
	/*	Line arrowRightPart = new Line();
		arrowRightPart.setStartX(arrow.getStartX());
		arrowRightPart.setStartY(arrow.getStartY());
		arrowRightPart.setEndX(arrowLeftPart.getStartX() + OFFSET * 1.5);
		arrowRightPart.setEndY(arrowLeftPart.getStartY() + OFFSET * .5);
		arrowComponents.add(arrowRightPart);*/
			
		
		pane.getChildren().addAll(arrowComponents);
	}
	
	/**
	 * Main method needed only if poor IDE support
	 */
	public static void main(String[] args) {
		Application.launch(args);
	}
}
