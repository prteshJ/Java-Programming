package solutions_chapter14_exercises;

import java.util.ArrayList;

import javafx.application.Application;
import javafx.geometry.Insets;
import javafx.scene.Scene;
import javafx.scene.layout.Pane;
import javafx.scene.paint.Color;
import javafx.scene.shape.Line;
import javafx.scene.shape.Rectangle;
import javafx.scene.shape.Shape;
import javafx.stage.Stage;

public class Exercise14_14 extends Application {

	private static double START_X = 40;
	private static double START_Y = 20;
	private static double WIDTH = 110;
	private static double HEIGHT = 90;
	private static double OFFSET = 28;
	@Override
	public void start(Stage primaryStage) {
		Pane rectanguloidContainer = new Pane();
		rectanguloidContainer.setPadding(new Insets(5, 10, 10, 10));
		
		ArrayList<Shape> rectanguloidComponents = new ArrayList<>();
		
		Rectangle outerRectangle = new Rectangle(WIDTH, HEIGHT);//(START_X, START_Y, WIDTH, HEIGHT);
		outerRectangle.xProperty().bind(rectanguloidContainer.widthProperty().divide(5));
		outerRectangle.yProperty().bind(rectanguloidContainer.heightProperty().divide(6));
		outerRectangle.setFill(Color.TRANSPARENT);
		outerRectangle.setStroke(Color.BLACK);
		rectanguloidComponents.add(outerRectangle);
		
		Rectangle innerRectangle = new Rectangle(WIDTH, HEIGHT);//(START_X - OFFSET, START_Y + OFFSET, WIDTH, HEIGHT);
		innerRectangle.xProperty().bind(outerRectangle.xProperty().subtract(OFFSET));
		innerRectangle.yProperty().bind(outerRectangle.yProperty().add(OFFSET));
		innerRectangle.setFill(Color.TRANSPARENT);
		innerRectangle.setStroke(Color.BLACK);
		rectanguloidComponents.add(innerRectangle);
		
		Line outerTopLeftEdge = new Line();//Line(START_X, START_Y, START_X - OFFSET, START_Y + OFFSET);
		outerTopLeftEdge.startXProperty().bind(outerRectangle.xProperty());
		outerTopLeftEdge.startYProperty().bind(outerRectangle.yProperty());
		outerTopLeftEdge.endXProperty().bind(outerRectangle.xProperty().subtract(OFFSET));
		outerTopLeftEdge.endYProperty().bind(outerRectangle.yProperty().add(OFFSET));
		outerTopLeftEdge.setFill(Color.TRANSPARENT);
		outerTopLeftEdge.setStroke(Color.BLACK);
		rectanguloidComponents.add(outerTopLeftEdge);
		
		Line outerBottomLeftEdge = new Line();//new Line(START_X, START_Y + HEIGHT, START_X - OFFSET, START_Y + HEIGHT + OFFSET);
		outerBottomLeftEdge.startXProperty().bind(outerRectangle.xProperty());
		outerBottomLeftEdge.startYProperty().bind(outerRectangle.yProperty().add(HEIGHT));
		outerBottomLeftEdge.endXProperty().bind(outerRectangle.xProperty().subtract(OFFSET));
		outerBottomLeftEdge.endYProperty().bind(outerRectangle.yProperty().add(OFFSET).add(HEIGHT));
		outerBottomLeftEdge.setFill(Color.TRANSPARENT);
		outerBottomLeftEdge.setStroke(Color.BLACK);
		rectanguloidComponents.add(outerBottomLeftEdge);
		
		Line outerTopRightEdge = new Line();//Line(START_X + WIDTH, START_Y, START_X + WIDTH - OFFSET, START_Y + OFFSET);
		outerTopRightEdge.startXProperty().bind(outerRectangle.xProperty().add(WIDTH));
		outerTopRightEdge.startYProperty().bind(outerRectangle.yProperty());
		outerTopRightEdge.endXProperty().bind(outerRectangle.xProperty().subtract(OFFSET).add(WIDTH));
		outerTopRightEdge.endYProperty().bind(outerRectangle.yProperty().add(OFFSET));
		outerTopRightEdge.setFill(Color.TRANSPARENT);
		outerTopRightEdge.setStroke(Color.BLACK);
		rectanguloidComponents.add(outerTopRightEdge);
		
		Line outerBottomRightEdge = new Line();//new Line(START_X + WIDTH, START_Y + HEIGHT, START_X + WIDTH - OFFSET, START_Y + HEIGHT + OFFSET);
		outerBottomLeftEdge.startXProperty().bind(outerRectangle.xProperty().add(WIDTH));
		outerBottomLeftEdge.startYProperty().bind(outerRectangle.yProperty().add(HEIGHT));
		outerBottomLeftEdge.endXProperty().bind(outerRectangle.xProperty().subtract(OFFSET).add(WIDTH));
		outerBottomLeftEdge.endYProperty().bind(outerRectangle.yProperty().add(OFFSET).add(HEIGHT));
		outerBottomRightEdge.setFill(Color.TRANSPARENT);
		outerBottomRightEdge.setStroke(Color.BLACK);
		rectanguloidComponents.add(outerBottomRightEdge);
		
		rectanguloidContainer.getChildren().addAll(rectanguloidComponents);
		
		/**
		 * Setting up rectanguloid on Canvas
		 */
		Scene rectanguloid = new Scene(rectanguloidContainer);
		primaryStage.setTitle("Exercise14_14");
		primaryStage.setScene(rectanguloid);
		primaryStage.show();
	}

	/**
	 * Main method needed only if poor IDE support
	 */
	public static void main(String[] args) {
		Application.launch(args);
	}
}
