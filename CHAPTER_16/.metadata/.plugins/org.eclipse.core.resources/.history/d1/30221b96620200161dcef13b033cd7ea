package chapter16eclipseliang;

import javafx.application.Application;
import javafx.scene.control.Button;
import javafx.scene.image.Image;
import javafx.scene.media.Media;
import javafx.scene.media.MediaPlayer;
import javafx.stage.Stage;

public class FlagAnthem extends Application{
	private final static int NUMBER_OF_NATIONS = 7;
	private final static String URLBase = "http://cs.armstrong.edu/liang/common";
	private int currentIndex  = 0;

	@Override // Override the start method in the Application class
	public void start(Stage primaryStage) {	
		Image[] images = new Image[NUMBER_OF_NATIONS];
		MediaPlayer[] mp = new MediaPlayer[NUMBER_OF_NATIONS];
		
		// Load images and audio
		for(int i = 0; i < NUMBER_OF_NATIONS; i++) {
			images[i] = new Image(URLBase + "/image/flag" + i + ".gif");
			    mp[i] = new MediaPlayer(new Media(URLBase + "/audio/anthem/anthem" + i + ".mp3"));
		}
		
		Button btPlayPause = new Button(">");
		btPlayPause.setOnAction(e -> {
			if(btPlayPause.getText().equals(">")) {
				btPlayPause.setText("||");
				mp[currentIndex].pause();
			} else {
				btPlayPause.setText(">");
				mp[currentIndex].play();
			}
		});
		
		
	}

	/**
	 * Main method
	 * Only needed if IDE has poor JavaFX support
	 */
	public static void main(String[] args) {
		Application.launch(args);
	}
}
